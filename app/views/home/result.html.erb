<div class="flex flex-col items-center justify-center p-4 m-4 rounded-xl">
  <%= link_to 'Back to Home', root_path, class: 'inline-flex items-center justify-center px-4 py-2 text-white bg-blue-500 border border-transparent rounded-md font-semibold text-xs uppercase tracking-widest hover:bg-blue-600 active:bg-blue-700 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-300 disabled:opacity-25 transition ease-in-out duration-150' %>
  
  <% if @generated_image.present? %>
    <div class="w-full max-w-md mt-2 p-5 bg-white rounded-md shadow-lg">
      <%= image_tag(@generated_image, alt: "Generated Image", class: "object-cover object-center rounded-md") %>
    </div>
  <% end %>

  <% if @generated_text %>
    <div class="w-full max-w-md mt-5 p-5 bg-white rounded-md shadow-lg">
      <h3 class="text-center text-lg font-bold mb-4">Generated Text</h3>
      <p class="text-base leading-relaxed" id="generatedText">
      <%= @generated_text %>
      </p>
    </div>
    <button class="inline-flex items-center justify-center w-full max-w-md px-4 py-2 mt-5 text-white bg-purple-500 border border-transparent rounded-md font-semibold text-xs uppercase tracking-widest hover:bg-purple-600 active:bg-purple-700 focus:outline-none focus:border-purple-700 focus:ring focus:ring-purple-300 disabled:opacity-25 transition ease-in-out duration-150" onclick="copyToClipboard()">
      Copy Text
    </button>
  <% end %>
</div>

<script>
  function copyToClipboard() {
    const textToCopy = document.getElementById('generatedText').innerText;
    const textarea = document.createElement('textarea');
    textarea.value = textToCopy;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    alert('Text copied to clipboard');
  }
</script>